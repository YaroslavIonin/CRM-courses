# CRM для записи на занятия

Приложение для организации графика занятий, которое позволяет пользователям записываться на курсы и управлять своими расписаниями, а также предоставляет оператору функционал для управления курсами и уроками.
## Стэк технологий
- **Bot**: Telebot
- **API**: Django Rest Framework
- **Административная панель**: Django
- **Очередь задач**: Celery + Redis
- **База данных**: PostgreSQL
- **Контейнеризация**: Docker, Docker Compose
## Функции приложения

### Пользовательские функции:
1. **Просмотр курсов**: возможность выбора курса из списка всех доступных.
2. **Выбор курса**: получение информации о курсе после его выбора.
3. **Запись на урок**: выбор доступной даты для выбранного курса.
4. **Подтверждение записи**: проверка данных перед подтверждением записи на урок.
5. **Управление расписанием**: просмотр своих запланированных уроков и возможность отмены записи.
6. **Уведомления**: за час до начала занятия приходит уведомление с возможностью отмены.

### Функционал оператора:
1. **Панель администратора**: доступ к управлению курсами и уроками.
2. **Добавление курсов**: создание новых курсов с указанием описания и стоимости.
3. **Создание уроков**: добавление дат, времени и количества мест для каждого урока.

## Установка и запуск

Для установки и запуска приложения выполните следующие шаги

### 1. Установка и настройка
- Клонируйте репозиторий и перейдите в папку проекта:
    ```shell
    git clone https://github.com/YaroslavIonin/CRM-courses && cd CRM-courses
    ```
- В корне проекта создайте файл .env:
    ```shell
    cp .env.example .env
    ```
- Укажите ваш TELEGRAM_TOKEN в файле .env
    ```text
    DEBUG=True
    DATABASE_URL=postgres://postgres:postgres@db:5432/postgres
    TELEGRAM_TOKEN=Ваш токен
    ```
### 2. Запуск проекта
Запустите проект командой и дождитесь выполнения:
  ```shell
  make -f MakeFile start
  ```

Проект запущен! API проекта можно посмотреть в [Swagger документации](http://0.0.0.0/swagger)

### 3. Остановка проекта
Остановите проект командой и дождитесь выполнения:
  ```shell
  make -f MakeFile stop
  ```
Проект остановлен

## Дополнительные команды

### 1. Создание администратора
- Введите команду (проект должен быть запущен)
  ```shell
  make -f MakeFile createadmin
  ```
- Введите номер телефона администратора и придумайте пароль

Администратор создан! Вы можете авторизоваться под ним в [панели администратора](http://0.0.0.0/admin)

### 2. Выполнение тестов
  ```shell
  make -f MakeFile test
  ```
Напечатается результат выполнения тестов

### 3. Проверка на соответствие PEP8
  ```shell
  make -f MakeFile lint
  ```
Напечатаются ошибки и общая оценка кода